
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Custom Excerpt Lengths All Around WordPress - Dear Coding Diary,</title>
  <meta name="author" content="d-g-h">

  
  <meta name="description" content="First off, to get back here, I needed to use this cmd for .zsh rake "new_post[Zombie Ninjas Attack: A Pastafarian's Retrospective]" and not&#8230; &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://d-g-h.github.com/blog/2013/01/15/custom-excerpt-lengths-all-around-wordpress-and-a-year-ender-list">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Dear Coding Diary," type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-31166273-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Dear Coding Diary,</a></h1>
  
    <h2>Blah, blah, blah...</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:d-g-h.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/some-of-my-work/">Some of My Work</a></li>
  <li><a href="/resume/">Resume</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Custom Excerpt Lengths All Around WordPress</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-15T17:03:00-05:00" pubdate data-updated="true">Jan 15<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>First off, to get back here, I needed to use this cmd for .zsh</p>

<p><code>rake "new_post[Zombie Ninjas Attack: A Pastafarian's Retrospective]"</code></p>

<p>and not&#8230;</p>

<p><code>rake new_post["title"]</code></p>

<p>Moving on, I wanted to share this with rest of the world as I don&#8217;t understand why it isn&#8217;t default in WordPress.</p>

<p>I didn&#8217;t write this myself, but it&#8217;s clear as to what it does. I believe the original was found in codex.wordpress.org, but maybe not.</p>

<p>By default, the_excerpt function in WP is 55 words. You can customize this length via there API. That is weaksauce though.  This plugin allows you to make different custom lengths where you need them to be custom. Here we go.</p>

<figure class='code'><figcaption><span>functions.php</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'>  <span class="k">function</span> <span class="nf">my_excerpt</span><span class="p">(</span><span class="nv">$excerpt_length</span> <span class="o">=</span> <span class="mi">55</span><span class="p">,</span> <span class="nv">$id</span> <span class="o">=</span> <span class="k">false</span><span class="p">,</span> <span class="nv">$echo</span> <span class="o">=</span> <span class="k">true</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nv">$text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>            <span class="k">if</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                  <span class="nv">$the_post</span> <span class="o">=</span> <span class="o">&amp;</span> <span class="nx">get_post</span><span class="p">(</span> <span class="nv">$my_id</span> <span class="o">=</span> <span class="nv">$id</span> <span class="p">);</span>
</span><span class='line'>                  <span class="nv">$text</span> <span class="o">=</span> <span class="p">(</span><span class="nv">$the_post</span><span class="o">-&gt;</span><span class="na">post_excerpt</span><span class="p">)</span> <span class="o">?</span> <span class="nv">$the_post</span><span class="o">-&gt;</span><span class="na">post_excerpt</span> <span class="o">:</span> <span class="nv">$the_post</span><span class="o">-&gt;</span><span class="na">post_content</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>                  <span class="k">global</span> <span class="nv">$post</span><span class="p">;</span>
</span><span class='line'>                  <span class="nv">$text</span> <span class="o">=</span> <span class="p">(</span><span class="nv">$post</span><span class="o">-&gt;</span><span class="na">post_excerpt</span><span class="p">)</span> <span class="o">?</span> <span class="nv">$post</span><span class="o">-&gt;</span><span class="na">post_excerpt</span> <span class="o">:</span> <span class="nx">get_the_content</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>                  <span class="nv">$text</span> <span class="o">=</span> <span class="nx">strip_shortcodes</span><span class="p">(</span> <span class="nv">$text</span> <span class="p">);</span>
</span><span class='line'>                  <span class="nv">$text</span> <span class="o">=</span> <span class="nx">apply_filters</span><span class="p">(</span><span class="s1">&#39;the_content&#39;</span><span class="p">,</span> <span class="nv">$text</span><span class="p">);</span>
</span><span class='line'>                  <span class="nv">$text</span> <span class="o">=</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s1">&#39;]]&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;]]&amp;gt;&#39;</span><span class="p">,</span> <span class="nv">$text</span><span class="p">);</span>
</span><span class='line'>            <span class="nv">$text</span> <span class="o">=</span> <span class="nb">strip_tags</span><span class="p">(</span><span class="nv">$text</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>                  <span class="nv">$excerpt_more</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span> <span class="o">.</span> <span class="s1">&#39;[...]&#39;</span><span class="p">;</span>
</span><span class='line'>                  <span class="nv">$words</span> <span class="o">=</span> <span class="nb">preg_split</span><span class="p">(</span><span class="s2">&quot;/[</span><span class="se">\n\r\t</span><span class="s2"> ]+/&quot;</span><span class="p">,</span> <span class="nv">$text</span><span class="p">,</span> <span class="nv">$excerpt_length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">PREG_SPLIT_NO_EMPTY</span><span class="p">);</span>
</span><span class='line'>                  <span class="k">if</span> <span class="p">(</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$words</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nv">$excerpt_length</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                          <span class="nb">array_pop</span><span class="p">(</span><span class="nv">$words</span><span class="p">);</span>
</span><span class='line'>                          <span class="nv">$text</span> <span class="o">=</span> <span class="nb">implode</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="nv">$words</span><span class="p">);</span>
</span><span class='line'>                          <span class="nv">$text</span> <span class="o">=</span> <span class="nv">$text</span> <span class="o">.</span> <span class="nv">$excerpt_more</span><span class="p">;</span>
</span><span class='line'>                  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>                          <span class="nv">$text</span> <span class="o">=</span> <span class="nb">implode</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="nv">$words</span><span class="p">);</span>
</span><span class='line'>                  <span class="p">}</span>
</span><span class='line'>          <span class="k">if</span><span class="p">(</span><span class="nv">$echo</span><span class="p">)</span>
</span><span class='line'>            <span class="k">echo</span> <span class="nx">apply_filters</span><span class="p">(</span><span class="s1">&#39;the_content&#39;</span><span class="p">,</span> <span class="nv">$text</span><span class="p">);</span>
</span><span class='line'>          <span class="k">else</span>
</span><span class='line'>          <span class="k">return</span> <span class="nv">$text</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">function</span> <span class="nf">get_my_excerpt</span><span class="p">(</span><span class="nv">$excerpt_length</span> <span class="o">=</span> <span class="mi">55</span><span class="p">,</span> <span class="nv">$id</span> <span class="o">=</span> <span class="k">false</span><span class="p">,</span> <span class="nv">$echo</span> <span class="o">=</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>   <span class="k">return</span> <span class="nx">my_excerpt</span><span class="p">(</span><span class="nv">$excerpt_length</span><span class="p">,</span> <span class="nv">$id</span><span class="p">,</span> <span class="nv">$echo</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="nx">add_filter</span><span class="p">(</span> <span class="s1">&#39;excerpt_length&#39;</span><span class="p">,</span> <span class="s1">&#39;custom_excerpt_length&#39;</span><span class="p">,</span> <span class="mi">999</span> <span class="p">);</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Yay!</p>

<p>I can&#8217;t blog and never do so while I&#8217;m on a roll. I just wanted to completely think about all the new tools and I have used or I am currently using.</p>

<figure class='code'><figcaption><span>Off the Top of My Head Tool List</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'>tmux
</span><span class='line'>mvim
</span><span class='line'>sshuttle
</span><span class='line'>ssh <span class="p">-</span>D
</span><span class='line'>git
</span><span class='line'>scp
</span><span class='line'>brew
</span><span class='line'>osx lion
</span><span class='line'>chrome canary
</span><span class='line'>vimium
</span><span class='line'>iOS simulator <span class="m">6</span>.<span class="m">0</span> <span class="k">w</span>/safari <span class="k">as</span> the inspector
</span><span class='line'>solarized
</span><span class='line'><span class="nb">magic</span> keyboard and trackpad
</span><span class='line'>virtualbox with ie7<span class="m">-10</span>
</span><span class='line'>ec2
</span><span class='line'>nginx
</span><span class='line'>node
</span><span class='line'>express
</span><span class='line'>jade
</span><span class='line'>stylus
</span><span class='line'>supervisor
</span><span class='line'>octopress
</span><span class='line'>github pages
</span><span class='line'>github
</span><span class='line'><span class="k">dig</span>
</span><span class='line'>ack
</span><span class='line'>Vagrant
</span><span class='line'>zsh
</span><span class='line'>oh<span class="p">-</span>my<span class="p">-</span>zsh
</span></code></pre></td></tr></table></div></figure>


<p>That&#8217;s it I guess I can add to this list. I&#8217;m sure I&#8217;m missing a bunch of things. I didn&#8217;t mention any VIM plugins&#8230;</p>

<p>Here is it real quick though</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'>My Bundles
</span><span class='line'>Bundle <span class="s1">&#39;gmarik/vundle&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;MarcWeber/vim-addon-mw-utils&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;tomtom/tlib_vim&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;mileszs/ack.vim&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;scrooloose/nerdtree&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;altercation/vim-colors-solarized&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;spf13/vim-colors&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;tpope/vim-surround&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;AutoClose&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;kien/ctrlp.vim&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;vim-scripts/sessionman.vim&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;matchit.zip&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;Lokaltog/vim-powerline&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;Lokaltog/vim-easymotion&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;godlygeek/csapprox&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;flazz/vim-colorschemes&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;corntrace/bufexplorer&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;vim-stylus&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;vim-jade&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;rstacruz/sparkup&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;scrooloose/syntastic&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;garbas/vim-snipmate&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;spf13/snipmate-snippets&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;tpope/vim-fugitive&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;scrooloose/nerdcommenter&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;godlygeek/tabular&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;majutsushi/tagbar&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;Shougo/neocomplcache&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;spf13/PIV&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;klen/python-mode&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;python.vim&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;python_match.vim&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;pythoncomplete&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;leshill/vim-json&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;groenewege/vim-less&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;taxilian/vim-web-indent&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;HTML-AutoCloseTag&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;rails.vim&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;spf13/vim-markdown&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;spf13/vim-preview&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;tpope/vim-cucumber&#39;</span>
</span><span class='line'>Bundle <span class="s1">&#39;Puppet-Syntax-Highlighting&#39;</span>
</span></code></pre></td></tr></table></div></figure>



</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">d-g-h</span></span>

      








  


<time datetime="2013-01-15T17:03:00-05:00" pubdate data-updated="true">Jan 15<span>th</span>, 2013</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://d-g-h.github.com/blog/2013/01/15/custom-excerpt-lengths-all-around-wordpress-and-a-year-ender-list/" data-via="" data-counturl="http://d-g-h.github.com/blog/2013/01/15/custom-excerpt-lengths-all-around-wordpress-and-a-year-ender-list/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
      
        <a class="basic-alignment right" href="/blog/2013/09/10/VLEMP/" title="Next Post: VLEMP">VLEMP &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - d-g-h -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
